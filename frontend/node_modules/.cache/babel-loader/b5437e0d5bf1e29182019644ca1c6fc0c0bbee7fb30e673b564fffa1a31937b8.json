{"ast":null,"code":"import axios from'axios';const addResponseInterceptor=_ref=>{let{onSignOut}=_ref;axios.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){onSignOut();}throw error;});};axios.defaults.baseURL='/';axios.defaults.withCredentials=true;export const booksAxios=axios.create({baseURL:'/api',withCredentials:true});const addAxiosInterceptors=_ref2=>{let{onSignOut}=_ref2;addResponseInterceptor({onSignOut});};export{addAxiosInterceptors};export default axios;","map":{"version":3,"names":["axios","addResponseInterceptor","_ref","onSignOut","interceptors","response","use","error","_error$response","status","defaults","baseURL","withCredentials","booksAxios","create","addAxiosInterceptors","_ref2"],"sources":["D:/JavaProjects/ProfITsoft/books-microservices/frontend/src/misc/requests/index.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst addResponseInterceptor = ({ onSignOut }) => {\r\n    axios.interceptors.response.use(\r\n        (response) => response,\r\n        (error) => {\r\n            if (error.response?.status === 401) {\r\n                onSignOut();\r\n            }\r\n            throw error;\r\n        }\r\n    );\r\n};\r\n\r\naxios.defaults.baseURL = '/';\r\naxios.defaults.withCredentials = true;\r\n\r\nexport const booksAxios = axios.create({\r\n    baseURL: '/api',\r\n    withCredentials: true,\r\n});\r\n\r\nconst addAxiosInterceptors = ({ onSignOut }) => {\r\n    addResponseInterceptor({ onSignOut });\r\n};\r\n\r\nexport {\r\n    addAxiosInterceptors,\r\n};\r\n\r\nexport default axios;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,sBAAsB,CAAGC,IAAA,EAAmB,IAAlB,CAAEC,SAAU,CAAC,CAAAD,IAAA,CACzCF,KAAK,CAACI,YAAY,CAACC,QAAQ,CAACC,GAAG,CAC1BD,QAAQ,EAAKA,QAAQ,CACrBE,KAAK,EAAK,KAAAC,eAAA,CACP,GAAI,EAAAA,eAAA,CAAAD,KAAK,CAACF,QAAQ,UAAAG,eAAA,iBAAdA,eAAA,CAAgBC,MAAM,IAAK,GAAG,CAAE,CAChCN,SAAS,CAAC,CAAC,CACf,CACA,KAAM,CAAAI,KAAK,CACf,CACJ,CAAC,CACL,CAAC,CAEDP,KAAK,CAACU,QAAQ,CAACC,OAAO,CAAG,GAAG,CAC5BX,KAAK,CAACU,QAAQ,CAACE,eAAe,CAAG,IAAI,CAErC,MAAO,MAAM,CAAAC,UAAU,CAAGb,KAAK,CAACc,MAAM,CAAC,CACnCH,OAAO,CAAE,MAAM,CACfC,eAAe,CAAE,IACrB,CAAC,CAAC,CAEF,KAAM,CAAAG,oBAAoB,CAAGC,KAAA,EAAmB,IAAlB,CAAEb,SAAU,CAAC,CAAAa,KAAA,CACvCf,sBAAsB,CAAC,CAAEE,SAAU,CAAC,CAAC,CACzC,CAAC,CAED,OACIY,oBAAoB,EAGxB,cAAe,CAAAf,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}