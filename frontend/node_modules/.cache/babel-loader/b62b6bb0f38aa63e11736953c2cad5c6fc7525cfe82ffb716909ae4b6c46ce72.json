{"ast":null,"code":"import{useState,useEffect}from'react';import{getTranslation}from'../../intl';export const useI18n=()=>{const[lang,setLang]=useState(()=>{const urlParams=new URLSearchParams(window.location.search);const urlLang=urlParams.get('lang');if(urlLang&&['en','ua'].includes(urlLang)){localStorage.setItem('lang',urlLang);return urlLang;}const savedLang=localStorage.getItem('lang');if(savedLang)return savedLang;return'en';});const changeLang=newLang=>{if(['en','ua'].includes(newLang)){setLang(newLang);localStorage.setItem('lang',newLang);const url=new URL(window.location);url.searchParams.set('lang',newLang);window.history.replaceState({},'',url);}};const t=key=>{return getTranslation(key,lang);};return{lang,changeLang,t};};","map":{"version":3,"names":["useState","useEffect","getTranslation","useI18n","lang","setLang","urlParams","URLSearchParams","window","location","search","urlLang","get","includes","localStorage","setItem","savedLang","getItem","changeLang","newLang","url","URL","searchParams","set","history","replaceState","t","key"],"sources":["D:/JavaProjects/ProfITsoft/books-microservices/frontend/src/misc/hooks/useI18n.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { getTranslation } from '../../intl';\r\n\r\nexport const useI18n = () => {\r\n    const [lang, setLang] = useState(() => {\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const urlLang = urlParams.get('lang');\r\n\r\n        if (urlLang && ['en', 'ua'].includes(urlLang)) {\r\n            localStorage.setItem('lang', urlLang);\r\n            return urlLang;\r\n        }\r\n\r\n        const savedLang = localStorage.getItem('lang');\r\n        if (savedLang) return savedLang;\r\n\r\n        return 'en';\r\n    });\r\n\r\n    const changeLang = (newLang) => {\r\n        if (['en', 'ua'].includes(newLang)) {\r\n            setLang(newLang);\r\n            localStorage.setItem('lang', newLang);\r\n\r\n            const url = new URL(window.location);\r\n            url.searchParams.set('lang', newLang);\r\n            window.history.replaceState({}, '', url);\r\n        }\r\n    };\r\n\r\n    const t = (key) => {\r\n        return getTranslation(key, lang);\r\n    };\r\n\r\n    return { lang, changeLang, t };\r\n};\r\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,cAAc,KAAQ,YAAY,CAE3C,MAAO,MAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGL,QAAQ,CAAC,IAAM,CACnC,KAAM,CAAAM,SAAS,CAAG,GAAI,CAAAC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAC7D,KAAM,CAAAC,OAAO,CAAGL,SAAS,CAACM,GAAG,CAAC,MAAM,CAAC,CAErC,GAAID,OAAO,EAAI,CAAC,IAAI,CAAE,IAAI,CAAC,CAACE,QAAQ,CAACF,OAAO,CAAC,CAAE,CAC3CG,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEJ,OAAO,CAAC,CACrC,MAAO,CAAAA,OAAO,CAClB,CAEA,KAAM,CAAAK,SAAS,CAAGF,YAAY,CAACG,OAAO,CAAC,MAAM,CAAC,CAC9C,GAAID,SAAS,CAAE,MAAO,CAAAA,SAAS,CAE/B,MAAO,IAAI,CACf,CAAC,CAAC,CAEF,KAAM,CAAAE,UAAU,CAAIC,OAAO,EAAK,CAC5B,GAAI,CAAC,IAAI,CAAE,IAAI,CAAC,CAACN,QAAQ,CAACM,OAAO,CAAC,CAAE,CAChCd,OAAO,CAACc,OAAO,CAAC,CAChBL,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEI,OAAO,CAAC,CAErC,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAC,GAAG,CAACb,MAAM,CAACC,QAAQ,CAAC,CACpCW,GAAG,CAACE,YAAY,CAACC,GAAG,CAAC,MAAM,CAAEJ,OAAO,CAAC,CACrCX,MAAM,CAACgB,OAAO,CAACC,YAAY,CAAC,CAAC,CAAC,CAAE,EAAE,CAAEL,GAAG,CAAC,CAC5C,CACJ,CAAC,CAED,KAAM,CAAAM,CAAC,CAAIC,GAAG,EAAK,CACf,MAAO,CAAAzB,cAAc,CAACyB,GAAG,CAAEvB,IAAI,CAAC,CACpC,CAAC,CAED,MAAO,CAAEA,IAAI,CAAEc,UAAU,CAAEQ,CAAE,CAAC,CAClC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}