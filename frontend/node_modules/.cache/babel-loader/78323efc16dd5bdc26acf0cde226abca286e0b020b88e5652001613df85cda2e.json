{"ast":null,"code":"import{useEffect}from'react';import{useSearchParams}from'react-router-dom';import languages,{DEFAULT_LANGUAGE}from'misc/constants/languages';const locationSearch={lang:'lang'};export const DEFAULT_LOCATION_SEARCH={[locationSearch.lang]:DEFAULT_LANGUAGE};function SearchParamsConfigurator(){const[searchParams,setSearchParams]=useSearchParams();useEffect(()=>{let isSearchParamsUpdated=false;if(!searchParams.has(locationSearch.lang)||!Object.values(languages).includes(searchParams.get(locationSearch.lang)||'')){searchParams.set(locationSearch.lang,DEFAULT_LANGUAGE);isSearchParamsUpdated=true;}if(isSearchParamsUpdated){setSearchParams(searchParams,{replace:true});}},[searchParams]);}export default SearchParamsConfigurator;","map":{"version":3,"names":["useEffect","useSearchParams","languages","DEFAULT_LANGUAGE","locationSearch","lang","DEFAULT_LOCATION_SEARCH","SearchParamsConfigurator","searchParams","setSearchParams","isSearchParamsUpdated","has","Object","values","includes","get","set","replace"],"sources":["D:/JavaProjects/ProfITsoft/books-microservices/frontend/src/app/components/SearchParamsConfigurator.jsx"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport languages, { DEFAULT_LANGUAGE } from 'misc/constants/languages';\r\n\r\nconst locationSearch = {\r\n  lang: 'lang',\r\n};\r\n\r\nexport const DEFAULT_LOCATION_SEARCH = {\r\n  [locationSearch.lang]: DEFAULT_LANGUAGE,\r\n};\r\n\r\nfunction SearchParamsConfigurator() {\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n\r\n  useEffect(() => {\r\n    let isSearchParamsUpdated = false;\r\n    if (!searchParams.has(locationSearch.lang)\r\n      || !Object.values(languages)\r\n        .includes(searchParams.get(locationSearch.lang) || '')\r\n    ) {\r\n      searchParams.set(locationSearch.lang, DEFAULT_LANGUAGE);\r\n      isSearchParamsUpdated = true;\r\n    }\r\n    if (isSearchParamsUpdated) {\r\n      setSearchParams(searchParams, { replace: true });\r\n    }\r\n  }, [searchParams]);\r\n}\r\n\r\nexport default SearchParamsConfigurator;\r\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,eAAe,KAAQ,kBAAkB,CAClD,MAAO,CAAAC,SAAS,EAAIC,gBAAgB,KAAQ,0BAA0B,CAEtE,KAAM,CAAAC,cAAc,CAAG,CACrBC,IAAI,CAAE,MACR,CAAC,CAED,MAAO,MAAM,CAAAC,uBAAuB,CAAG,CACrC,CAACF,cAAc,CAACC,IAAI,EAAGF,gBACzB,CAAC,CAED,QAAS,CAAAI,wBAAwBA,CAAA,CAAG,CAClC,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGR,eAAe,CAAC,CAAC,CAEzDD,SAAS,CAAC,IAAM,CACd,GAAI,CAAAU,qBAAqB,CAAG,KAAK,CACjC,GAAI,CAACF,YAAY,CAACG,GAAG,CAACP,cAAc,CAACC,IAAI,CAAC,EACrC,CAACO,MAAM,CAACC,MAAM,CAACX,SAAS,CAAC,CACzBY,QAAQ,CAACN,YAAY,CAACO,GAAG,CAACX,cAAc,CAACC,IAAI,CAAC,EAAI,EAAE,CAAC,CACxD,CACAG,YAAY,CAACQ,GAAG,CAACZ,cAAc,CAACC,IAAI,CAAEF,gBAAgB,CAAC,CACvDO,qBAAqB,CAAG,IAAI,CAC9B,CACA,GAAIA,qBAAqB,CAAE,CACzBD,eAAe,CAACD,YAAY,CAAE,CAAES,OAAO,CAAE,IAAK,CAAC,CAAC,CAClD,CACF,CAAC,CAAE,CAACT,YAAY,CAAC,CAAC,CACpB,CAEA,cAAe,CAAAD,wBAAwB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}