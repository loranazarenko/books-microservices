{"ast":null,"code":"import _objectSpread from\"D:/JavaProjects/ProfITsoft/books-microservices/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{REQUEST_BOOKS_LIST,SUCCESS_BOOKS_LIST,ERROR_BOOKS_LIST,REQUEST_BOOK_DETAIL,SUCCESS_BOOK_DETAIL,ERROR_BOOK_DETAIL,REQUEST_SAVE_BOOK,SUCCESS_SAVE_BOOK,ERROR_SAVE_BOOK,REQUEST_DELETE_BOOK,SUCCESS_DELETE_BOOK,ERROR_DELETE_BOOK,SET_FILTERS,SET_PAGE,RESET_FILTERS,REQUEST_AUTHORS_LIST,SUCCESS_AUTHORS_LIST,ERROR_AUTHORS_LIST,CLEAR_CURRENT_BOOK}from'../constants/actionTypes';const initialState={items:[],page:0,pageSize:10,totalPages:0,totalElements:0,filters:{title:'',authorId:null,genre:''},sortBy:'id',sortOrder:'DESC',currentBook:null,authors:[],isLoadingList:false,isLoadingDetail:false,isLoadingAuthors:false,isDeleting:false,isSaving:false,error:null,deleteError:null};export default function booksReducer(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case REQUEST_BOOKS_LIST:return _objectSpread(_objectSpread({},state),{},{isLoadingList:true,error:null});case SUCCESS_BOOKS_LIST:return _objectSpread(_objectSpread({},state),{},{isLoadingList:false,items:action.payload.items,totalPages:action.payload.totalPages,totalElements:action.payload.totalElements,page:action.payload.currentPage,pageSize:action.payload.pageSize});case ERROR_BOOKS_LIST:return _objectSpread(_objectSpread({},state),{},{isLoadingList:false,error:action.payload,items:[]});case REQUEST_BOOK_DETAIL:return _objectSpread(_objectSpread({},state),{},{isLoadingDetail:true,error:null});case SUCCESS_BOOK_DETAIL:return _objectSpread(_objectSpread({},state),{},{isLoadingDetail:false,currentBook:action.payload});case ERROR_BOOK_DETAIL:return _objectSpread(_objectSpread({},state),{},{isLoadingDetail:false,error:action.payload});case REQUEST_SAVE_BOOK:return _objectSpread(_objectSpread({},state),{},{isSaving:true,error:null});case SUCCESS_SAVE_BOOK:return _objectSpread(_objectSpread({},state),{},{isSaving:false,currentBook:action.payload});case ERROR_SAVE_BOOK:return _objectSpread(_objectSpread({},state),{},{isSaving:false,error:action.payload});case REQUEST_DELETE_BOOK:return _objectSpread(_objectSpread({},state),{},{isDeleting:true,deleteError:null});case SUCCESS_DELETE_BOOK:return _objectSpread(_objectSpread({},state),{},{isDeleting:false,items:state.items.filter(book=>book.id!==action.payload),totalElements:state.totalElements-1});case ERROR_DELETE_BOOK:return _objectSpread(_objectSpread({},state),{},{isDeleting:false,deleteError:action.payload});case SET_FILTERS:return _objectSpread(_objectSpread({},state),{},{filters:action.payload,page:0});case SET_PAGE:return _objectSpread(_objectSpread({},state),{},{page:action.payload});case RESET_FILTERS:return _objectSpread(_objectSpread({},state),{},{filters:initialState.filters,page:0});case REQUEST_AUTHORS_LIST:return _objectSpread(_objectSpread({},state),{},{isLoadingAuthors:true});case SUCCESS_AUTHORS_LIST:return _objectSpread(_objectSpread({},state),{},{isLoadingAuthors:false,authors:action.payload});case ERROR_AUTHORS_LIST:return _objectSpread(_objectSpread({},state),{},{isLoadingAuthors:false,authors:[]});case CLEAR_CURRENT_BOOK:return _objectSpread(_objectSpread({},state),{},{currentBook:null});default:return state;}}","map":{"version":3,"names":["REQUEST_BOOKS_LIST","SUCCESS_BOOKS_LIST","ERROR_BOOKS_LIST","REQUEST_BOOK_DETAIL","SUCCESS_BOOK_DETAIL","ERROR_BOOK_DETAIL","REQUEST_SAVE_BOOK","SUCCESS_SAVE_BOOK","ERROR_SAVE_BOOK","REQUEST_DELETE_BOOK","SUCCESS_DELETE_BOOK","ERROR_DELETE_BOOK","SET_FILTERS","SET_PAGE","RESET_FILTERS","REQUEST_AUTHORS_LIST","SUCCESS_AUTHORS_LIST","ERROR_AUTHORS_LIST","CLEAR_CURRENT_BOOK","initialState","items","page","pageSize","totalPages","totalElements","filters","title","authorId","genre","sortBy","sortOrder","currentBook","authors","isLoadingList","isLoadingDetail","isLoadingAuthors","isDeleting","isSaving","error","deleteError","booksReducer","state","arguments","length","undefined","action","type","_objectSpread","payload","currentPage","filter","book","id"],"sources":["D:/JavaProjects/ProfITsoft/books-microservices/frontend/src/app/reducers/books.js"],"sourcesContent":["import {\r\n    REQUEST_BOOKS_LIST,\r\n    SUCCESS_BOOKS_LIST,\r\n    ERROR_BOOKS_LIST,\r\n    REQUEST_BOOK_DETAIL,\r\n    SUCCESS_BOOK_DETAIL,\r\n    ERROR_BOOK_DETAIL,\r\n    REQUEST_SAVE_BOOK,\r\n    SUCCESS_SAVE_BOOK,\r\n    ERROR_SAVE_BOOK,\r\n    REQUEST_DELETE_BOOK,\r\n    SUCCESS_DELETE_BOOK,\r\n    ERROR_DELETE_BOOK,\r\n    SET_FILTERS,\r\n    SET_PAGE,\r\n    RESET_FILTERS,\r\n    REQUEST_AUTHORS_LIST,\r\n    SUCCESS_AUTHORS_LIST,\r\n    ERROR_AUTHORS_LIST,\r\n    CLEAR_CURRENT_BOOK,\r\n} from '../constants/actionTypes';\r\n\r\nconst initialState = {\r\n    items: [],\r\n    page: 0,\r\n    pageSize: 10,\r\n    totalPages: 0,\r\n    totalElements: 0,\r\n    filters: {\r\n        title: '',\r\n        authorId: null,\r\n        genre: '',\r\n    },\r\n    sortBy: 'id',\r\n    sortOrder: 'DESC',\r\n    currentBook: null,\r\n    authors: [],\r\n    isLoadingList: false,\r\n    isLoadingDetail: false,\r\n    isLoadingAuthors: false,\r\n    isDeleting: false,\r\n    isSaving: false,\r\n    error: null,\r\n    deleteError: null,\r\n};\r\n\r\nexport default function booksReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case REQUEST_BOOKS_LIST:\r\n            return {\r\n                ...state,\r\n                isLoadingList: true,\r\n                error: null,\r\n            };\r\n\r\n        case SUCCESS_BOOKS_LIST:\r\n            return {\r\n                ...state,\r\n                isLoadingList: false,\r\n                items: action.payload.items,\r\n                totalPages: action.payload.totalPages,\r\n                totalElements: action.payload.totalElements,\r\n                page: action.payload.currentPage,\r\n                pageSize: action.payload.pageSize,\r\n            };\r\n\r\n        case ERROR_BOOKS_LIST:\r\n            return {\r\n                ...state,\r\n                isLoadingList: false,\r\n                error: action.payload,\r\n                items: [],\r\n            };\r\n\r\n        case REQUEST_BOOK_DETAIL:\r\n            return {\r\n                ...state,\r\n                isLoadingDetail: true,\r\n                error: null,\r\n            };\r\n\r\n        case SUCCESS_BOOK_DETAIL:\r\n            return {\r\n                ...state,\r\n                isLoadingDetail: false,\r\n                currentBook: action.payload,\r\n            };\r\n\r\n        case ERROR_BOOK_DETAIL:\r\n            return {\r\n                ...state,\r\n                isLoadingDetail: false,\r\n                error: action.payload,\r\n            };\r\n\r\n        case REQUEST_SAVE_BOOK:\r\n            return {\r\n                ...state,\r\n                isSaving: true,\r\n                error: null,\r\n            };\r\n\r\n        case SUCCESS_SAVE_BOOK:\r\n            return {\r\n                ...state,\r\n                isSaving: false,\r\n                currentBook: action.payload,\r\n            };\r\n\r\n        case ERROR_SAVE_BOOK:\r\n            return {\r\n                ...state,\r\n                isSaving: false,\r\n                error: action.payload,\r\n            };\r\n\r\n        case REQUEST_DELETE_BOOK:\r\n            return {\r\n                ...state,\r\n                isDeleting: true,\r\n                deleteError: null,\r\n            };\r\n\r\n        case SUCCESS_DELETE_BOOK:\r\n            return {\r\n                ...state,\r\n                isDeleting: false,\r\n                items: state.items.filter(book => book.id !== action.payload),\r\n                totalElements: state.totalElements - 1,\r\n            };\r\n\r\n        case ERROR_DELETE_BOOK:\r\n            return {\r\n                ...state,\r\n                isDeleting: false,\r\n                deleteError: action.payload,\r\n            };\r\n\r\n        case SET_FILTERS:\r\n            return {\r\n                ...state,\r\n                filters: action.payload,\r\n                page: 0,\r\n            };\r\n\r\n        case SET_PAGE:\r\n            return {\r\n                ...state,\r\n                page: action.payload,\r\n            };\r\n\r\n        case RESET_FILTERS:\r\n            return {\r\n                ...state,\r\n                filters: initialState.filters,\r\n                page: 0,\r\n            };\r\n\r\n        case REQUEST_AUTHORS_LIST:\r\n            return {\r\n                ...state,\r\n                isLoadingAuthors: true,\r\n            };\r\n\r\n        case SUCCESS_AUTHORS_LIST:\r\n            return {\r\n                ...state,\r\n                isLoadingAuthors: false,\r\n                authors: action.payload,\r\n            };\r\n\r\n        case ERROR_AUTHORS_LIST:\r\n            return {\r\n                ...state,\r\n                isLoadingAuthors: false,\r\n                authors: [],\r\n            };\r\n\r\n        case CLEAR_CURRENT_BOOK:\r\n            return {\r\n                ...state,\r\n                currentBook: null,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}