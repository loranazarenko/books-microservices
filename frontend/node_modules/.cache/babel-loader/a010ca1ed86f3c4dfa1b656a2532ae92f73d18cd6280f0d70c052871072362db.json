{"ast":null,"code":"import _objectSpread from\"D:/JavaProjects/ProfITsoft/books-microservices/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createUseStyles}from'react-jss';import{useIntl}from'react-intl';import*as authorities from'constants/authorities';import*as pages from'constants/pages';import IconButton from'components/IconButton/IconButton';import IconLockOpen from'components/icons/LockOpen';import IconMenu from'components/icons/Menu';import Link from'components/Link';import MenuItem from'components/MenuItem';import pagesURLs from'constants/pagesURLs';import React,{useMemo,useState}from'react';import SwipeableDrawer from'components/SwipeableDrawer';import Typography from'components/Typography';import useAccessValidate from'misc/hooks/useAccessValidate';import useTheme from'misc/hooks/useTheme';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const getClasses=createUseStyles(theme=>({menuHeaderSpace:{height:theme.header.height}}));const menuItems=[{icon:/*#__PURE__*/_jsx(IconLockOpen,{}),link:\"\".concat(pagesURLs[pages.secretPage]),neededAuthorities:[authorities.ENABLE_SEE_SECRET_PAGE],titleIntlId:\"page.\".concat(pages.secretPage)}];function LeftNavBar(){const{formatMessage}=useIntl();const{theme}=useTheme();const accessValidate=useAccessValidate();const classes=getClasses({theme});const[state,setState]=useState({isNavMenuOpened:false});const onClose=()=>setState(_objectSpread(_objectSpread({},state),{},{isNavMenuOpened:false}));const filteredItems=useMemo(()=>menuItems.filter(item=>accessValidate(item.neededAuthorities)),[accessValidate]);if(!filteredItems.length){return;}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(IconButton,{colorVariant:\"header\",onClick:()=>setState(_objectSpread(_objectSpread({},state),{},{isNavMenuOpened:true})),children:/*#__PURE__*/_jsx(IconMenu,{color:\"header\",size:32})}),/*#__PURE__*/_jsxs(SwipeableDrawer,{anchor:\"left\",isOpened:state.isNavMenuOpened,onClose:onClose,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.menuHeaderSpace}),filteredItems.map(menuItem=>/*#__PURE__*/_jsx(Link,{onClick:onClose,to:{pathname:menuItem.link},children:/*#__PURE__*/_jsxs(MenuItem,{children:[menuItem.icon,/*#__PURE__*/_jsx(Typography,{variant:\"subTitle\",children:formatMessage({id:menuItem.titleIntlId})})]})}))]})]});}export default LeftNavBar;","map":{"version":3,"names":["createUseStyles","useIntl","authorities","pages","IconButton","IconLockOpen","IconMenu","Link","MenuItem","pagesURLs","React","useMemo","useState","SwipeableDrawer","Typography","useAccessValidate","useTheme","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","getClasses","theme","menuHeaderSpace","height","header","menuItems","icon","link","concat","secretPage","neededAuthorities","ENABLE_SEE_SECRET_PAGE","titleIntlId","LeftNavBar","formatMessage","accessValidate","classes","state","setState","isNavMenuOpened","onClose","_objectSpread","filteredItems","filter","item","length","children","colorVariant","onClick","color","size","anchor","isOpened","className","map","menuItem","to","pathname","variant","id"],"sources":["D:/JavaProjects/ProfITsoft/books-microservices/frontend/src/app/components/LeftNavBar.jsx"],"sourcesContent":["import { createUseStyles } from 'react-jss';\r\nimport { useIntl } from 'react-intl';\r\nimport * as authorities from 'constants/authorities';\r\nimport * as pages from 'constants/pages';\r\nimport IconButton from 'components/IconButton/IconButton';\r\nimport IconLockOpen from 'components/icons/LockOpen';\r\nimport IconMenu from 'components/icons/Menu';\r\nimport Link from 'components/Link';\r\nimport MenuItem from 'components/MenuItem';\r\nimport pagesURLs from 'constants/pagesURLs';\r\nimport React, { useMemo, useState } from 'react';\r\nimport SwipeableDrawer from 'components/SwipeableDrawer';\r\nimport Typography from 'components/Typography';\r\nimport useAccessValidate from 'misc/hooks/useAccessValidate';\r\nimport useTheme from 'misc/hooks/useTheme';\r\n\r\nconst getClasses = createUseStyles((theme) => ({\r\n  menuHeaderSpace: {\r\n    height: theme.header.height,\r\n  },\r\n}));\r\n\r\nconst menuItems = [\r\n  {\r\n    icon: <IconLockOpen />,\r\n    link: `${pagesURLs[pages.secretPage]}`,\r\n    neededAuthorities: [authorities.ENABLE_SEE_SECRET_PAGE],\r\n    titleIntlId: `page.${pages.secretPage}`,\r\n  },\r\n];\r\n\r\nfunction LeftNavBar() {\r\n  const { formatMessage } = useIntl();\r\n  const { theme } = useTheme();\r\n  const accessValidate = useAccessValidate();\r\n  const classes = getClasses({ theme });\r\n  const [state, setState] = useState({\r\n    isNavMenuOpened: false,\r\n  });\r\n\r\n  const onClose = () => setState({\r\n    ...state,\r\n    isNavMenuOpened: false,\r\n  });\r\n\r\n  const filteredItems = useMemo(\r\n    () => menuItems.filter(item => accessValidate(item.neededAuthorities)),\r\n    [accessValidate],\r\n  );\r\n\r\n  if (!filteredItems.length) {\r\n    return;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <IconButton\r\n        colorVariant=\"header\"\r\n        onClick={() => setState({\r\n          ...state,\r\n          isNavMenuOpened: true,\r\n        })}\r\n      >\r\n        <IconMenu\r\n          color=\"header\"\r\n          size={32}\r\n        />\r\n      </IconButton>\r\n      <SwipeableDrawer\r\n        anchor=\"left\"\r\n        isOpened={state.isNavMenuOpened}\r\n        onClose={onClose}\r\n      >\r\n        <div className={classes.menuHeaderSpace} />\r\n        {filteredItems.map(menuItem => (\r\n          <Link\r\n            onClick={onClose}\r\n            to={{\r\n              pathname: menuItem.link,\r\n            }}\r\n          >\r\n            <MenuItem>\r\n              {menuItem.icon}\r\n              <Typography variant=\"subTitle\">\r\n                {formatMessage({ id: menuItem.titleIntlId })}\r\n              </Typography>\r\n            </MenuItem>\r\n          </Link>\r\n        ))}\r\n      </SwipeableDrawer>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LeftNavBar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}