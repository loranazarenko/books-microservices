{"ast":null,"code":"import{useCallback,useContext}from'react';import{AuthoritiesContext}from'../providers/AuthoritiesProvider';export const authModes={ALL:'ALL',ANY:'ANY'};const functionsToModes={[authModes.ANY]:(authorities,ownedAuthorities)=>authorities.some(auth=>ownedAuthorities.includes(auth)),[authModes.ALL]:(authorities,ownedAuthorities)=>authorities.every(auth=>ownedAuthorities.includes(auth))};function useAccessValidate(){const ownedAuthorities=useContext(AuthoritiesContext);return useCallback(function(neededAuthorities){let mode=arguments.length>1&&arguments[1]!==undefined?arguments[1]:authModes.ANY;const authorities=Array.isArray(neededAuthorities)?neededAuthorities:[neededAuthorities];return functionsToModes[mode](authorities,ownedAuthorities);},[ownedAuthorities]);}export default useAccessValidate;","map":{"version":3,"names":["useCallback","useContext","AuthoritiesContext","authModes","ALL","ANY","functionsToModes","authorities","ownedAuthorities","some","auth","includes","every","useAccessValidate","neededAuthorities","mode","arguments","length","undefined","Array","isArray"],"sources":["D:/JavaProjects/ProfITsoft/books-microservices/frontend/src/misc/hooks/useAccessValidate.js"],"sourcesContent":["import { useCallback, useContext } from 'react';\r\nimport { AuthoritiesContext } from '../providers/AuthoritiesProvider';\r\n\r\nexport const authModes = {\r\n  ALL: 'ALL',\r\n  ANY: 'ANY',\r\n};\r\n\r\nconst functionsToModes = {\r\n  [authModes.ANY]: (\r\n    authorities,\r\n    ownedAuthorities,\r\n  ) => authorities.some((auth) => ownedAuthorities.includes(auth)),\r\n  [authModes.ALL]: (\r\n    authorities,\r\n    ownedAuthorities,\r\n  ) => authorities.every((auth) => ownedAuthorities.includes(auth)),\r\n};\r\n\r\nfunction useAccessValidate() {\r\n  const ownedAuthorities = useContext(AuthoritiesContext);\r\n\r\n  return useCallback(\r\n    (neededAuthorities, mode = authModes.ANY) => {\r\n      const authorities = (Array.isArray(neededAuthorities)\r\n        ? neededAuthorities\r\n        : [neededAuthorities]);\r\n      return functionsToModes[mode](authorities, ownedAuthorities);\r\n    },\r\n    [ownedAuthorities]\r\n  );\r\n}\r\n\r\nexport default useAccessValidate;\r\n"],"mappings":"AAAA,OAASA,WAAW,CAAEC,UAAU,KAAQ,OAAO,CAC/C,OAASC,kBAAkB,KAAQ,kCAAkC,CAErE,MAAO,MAAM,CAAAC,SAAS,CAAG,CACvBC,GAAG,CAAE,KAAK,CACVC,GAAG,CAAE,KACP,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAG,CACvB,CAACH,SAAS,CAACE,GAAG,EAAG,CACfE,WAAW,CACXC,gBAAgB,GACbD,WAAW,CAACE,IAAI,CAAEC,IAAI,EAAKF,gBAAgB,CAACG,QAAQ,CAACD,IAAI,CAAC,CAAC,CAChE,CAACP,SAAS,CAACC,GAAG,EAAG,CACfG,WAAW,CACXC,gBAAgB,GACbD,WAAW,CAACK,KAAK,CAAEF,IAAI,EAAKF,gBAAgB,CAACG,QAAQ,CAACD,IAAI,CAAC,CAClE,CAAC,CAED,QAAS,CAAAG,iBAAiBA,CAAA,CAAG,CAC3B,KAAM,CAAAL,gBAAgB,CAAGP,UAAU,CAACC,kBAAkB,CAAC,CAEvD,MAAO,CAAAF,WAAW,CAChB,SAACc,iBAAiB,CAA2B,IAAzB,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAGb,SAAS,CAACE,GAAG,CACtC,KAAM,CAAAE,WAAW,CAAIY,KAAK,CAACC,OAAO,CAACN,iBAAiB,CAAC,CACjDA,iBAAiB,CACjB,CAACA,iBAAiB,CAAE,CACxB,MAAO,CAAAR,gBAAgB,CAACS,IAAI,CAAC,CAACR,WAAW,CAAEC,gBAAgB,CAAC,CAC9D,CAAC,CACD,CAACA,gBAAgB,CACnB,CAAC,CACH,CAEA,cAAe,CAAAK,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}